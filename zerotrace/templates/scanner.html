{# scanner.html - Django template #}
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BlackBox — Passive Scanner</title>
<style>
:root{
  --bg:#0b0f12;
  --panel:#0f1720;
  --muted:#9aa6b2;
  --accent:#6ee7b7;
  --danger:#ff7b72;
  --glass: rgba(255,255,255,0.03);
  --glass-2: rgba(255,255,255,0.02);
  --radius:14px;
  --shadow: 0 6px 24px rgba(2,6,23,0.6);
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font-sans);
  color:#e6eef6;
  padding:28px;
  background:var(--bg);
}
body::before, body::after{
  content:"";
  position:fixed;
  left:50%;
  top:50%;
  pointer-events:none;
  mix-blend-mode: screen;
  filter: blur(80px) saturate(120%);
  opacity:0.5;
  z-index:0;
}
body::before{
  background: radial-gradient(closest-side, rgba(54,255,165,0.18), rgba(50,200,170,0.09) 30%, rgba(20,30,35,0.02) 60%, transparent 70%);
  left:22%; top:28%; width:760px; height:460px;
  animation: floatA 18s ease-in-out infinite;
}
body::after{
  background: radial-gradient(closest-side, rgba(100,255,200,0.12), rgba(90,200,180,0.07) 28%, rgba(10,12,14,0.02) 60%, transparent 72%);
  left:78%; top:72%; width:680px; height:420px;
  animation: floatB 22s ease-in-out infinite;
}
@keyframes floatA{0%{ transform: translate(-50%,-50%) translateY(-20px) scale(1);}50%{ transform: translate(-50%,-50%) translateY(30px) scale(1.04);}100%{ transform: translate(-50%,-50%) translateY(-20px) scale(1);}}
@keyframes floatB{0%{ transform: translate(-50%,-50%) translateY(30px) scale(1);}50%{ transform: translate(-50%,-50%) translateY(-28px) scale(1.06);}100%{ transform: translate(-50%,-50%) translateY(30px) scale(1);}}

.bg-grid {position:fixed; inset:0; z-index:0; pointer-events:none;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,0.01) 0px, rgba(255,255,255,0.01) 1px, transparent 1px, transparent 24px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.01) 0px, rgba(255,255,255,0.01) 1px, transparent 1px, transparent 24px),
    linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.2));
  mix-blend-mode: overlay;
  opacity:0.6;
}
.bg-vignette {position:fixed; inset:0; z-index:0; pointer-events:none; background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.35) 100%); opacity:0.9;}

.container { position: relative; z-index: 1; max-width:1200px; margin:0 auto; }

header{display:flex; align-items:center; justify-content:space-between; margin-bottom:20px;}
.brand{display:flex; gap:12px; align-items:center;}
.logo{ width:48px;height:48px;border-radius:10px; background:linear-gradient(135deg,#0ea5a4,#06b6d4); display:grid;place-items:center; box-shadow: 0 6px 18px rgba(12,20,30,0.6); font-weight:700;}
.title h1{font-size:18px;margin:0}
.title p{margin:0;color:var(--muted);font-size:13px}

/* Navigation buttons */
.nav-buttons{display:flex; gap:12px;}
.nav-buttons a{display:inline-block; padding:8px 14px; background:var(--panel); color:var(--accent); text-decoration:none; border-radius:10px; font-weight:600; box-shadow: var(--shadow); transition: transform .12s ease, box-shadow .12s ease;}
.nav-buttons a:hover{transform:translateY(-2px); background:linear-gradient(90deg,#06b6d4,#0ea5a4); color:#041018;}

.search-bar{flex:1; display:flex; align-items:center; gap:12px; padding:12px; background:var(--panel); border-radius:12px; box-shadow:var(--shadow);}
.search-bar input[type="url"]{flex:1; background:transparent; border:0; outline:none; color:inherit; padding:6px 8px; font-size:15px;}
.btn{background:linear-gradient(90deg,#10b981,#06b6d4); color:#041018; border:0; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; transition:transform .12s ease, box-shadow .12s ease;}
.btn:active{transform:translateY(1px)}
.small{font-size:13px;padding:8px 12px}

.main{display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:20px;}
@media (max-width:900px){ .main{grid-template-columns:1fr;} }

.panel{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); min-height:300px; border: 1px solid rgba(255,255,255,0.03);}
.panel h2{margin-top:0;margin-bottom:12px;font-size:16px;}
.muted{color:var(--muted);font-size:13px;margin-bottom:12px;}
.vuln-list{display:flex;flex-direction:column;gap:8px;}
.vuln-item{display:flex;align-items:center;justify-content:space-between;background:var(--glass); padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);}
.pill{padding:6px 8px;border-radius:8px;font-size:12px;background:var(--glass-2);color:var(--muted);border:1px solid rgba(255,255,255,0.02);}
.found-badge{font-weight:700;color:#071018;background:var(--danger);padding:6px 8px;border-radius:8px; box-shadow:0 6px 18px rgba(255,123,114,0.06);}
.safe-badge{font-weight:700;color:#042017;background:var(--accent);padding:6px 8px;border-radius:8px;}
.empty{text-align:center;color:var(--muted);padding:28px;border-radius:8px;background:transparent;}
.hint{font-size:13px;color:var(--muted)}
footer{margin-top:20px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); color:var(--muted);font-size:13px;border:1px solid rgba(255,255,255,0.02); display:flex;justify-content:space-between;align-items:center;gap:10px;}
.footer-left b{color:#dbeafe;font-size:14px}
</style>
</head>
<body>
<div class="bg-grid"></div>
<div class="bg-vignette"></div>

<div class="container">
<header>
  <div class="brand">
    <div class="logo">BB</div>
    <div class="title">
      <h1>BlackBox</h1>
      <p>Passive Site Scanner • Demo</p>
    </div>
  </div>
  <div class="nav-buttons">
    <a href="/">Home</a>
    <a href="/about/">About</a>
    <a href="/dashboard/">Dashboard</a>
  </div>
</header>

<form method="POST" style="flex:1;margin-top:12px">
  <div class="search-bar" role="search" aria-label="Scan website">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.8">
      <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <input name="url" type="url" placeholder="https://example.com — enter a URL to scan" aria-label="Website URL" value="{{ target|default:'' }}" required />
    <button type="submit" class="btn small" title="Start scan">Scan</button>
  </div>
</form>

<main class="main" role="main">
  <section class="panel" aria-labelledby="testedTitle">
    <h2 id="testedTitle">Tested Vulnerabilities</h2>
    <div class="muted">The checks this scanner will attempt (passive & safe)</div>
    <div class="vuln-list" id="testedList">
      <div class="vuln-item"><div class="left"><span class="pill">1</span><div><strong>HTTP Security Headers</strong><div class="hint">CSP, HSTS, X-Frame-Options</div></div></div><div class="pill">Passive</div></div>
      <div class="vuln-item"><div class="left"><span class="pill">2</span><div><strong>TLS Certificate</strong><div class="hint">Issuer, validity, chain</div></div></div><div class="pill">Passive</div></div>
      <div class="vuln-item"><div class="left"><span class="pill">3</span><div><strong>robots.txt</strong><div class="hint">Presence & content</div></div></div><div class="pill">Passive</div></div>
      <div class="vuln-item"><div class="left"><span class="pill">4</span><div><strong>Server Info</strong><div class="hint">Server header, redirects</div></div></div><div class="pill">Passive</div></div>
      <div class="vuln-item"><div class="left"><span class="pill">5</span><div><strong>Page Metadata</strong><div class="hint">Title, charset, meta-robots</div></div></div><div class="pill">Passive</div></div>
    </div>
  </section>

  <section class="panel" aria-labelledby="foundTitle">
    <h2 id="foundTitle">Found Vulnerabilities</h2>
    <div class="muted">Issues discovered from server scan:</div>
    <div id="foundList" style="margin-top:12px">
      {% if error %}
        <div class="empty">{{ error }}</div>
      {% elif found %}
        <div id="results" style="display:flex; flex-direction:column; gap:10px;">
          {% for item in found %}
            <div class="vuln-item">
              <div class="left">
                <div style="width:44px;display:grid;place-items:center"><div class="pill">{{ item.id }}</div></div>
                <div><strong>{{ item.title }}</strong><div class="hint">{{ item.desc }}</div></div>
              </div>
              <div>
                {% if item.severity == 'HIGH' or item.level == 'high' %}
                  <span class="found-badge">HIGH</span>
                {% elif item.severity == 'MED' or item.level == 'medium' %}
                  <span class="found-badge" style="background:#ffb86b;color:#271705">MED</span>
                {% elif item.severity == 'LOW' or item.level == 'low' %}
                  <span class="pill" style="background:rgba(255,255,255,0.03)">LOW</span>
                {% else %}
                  <span class="safe-badge">SAFE</span>
                {% endif %}
              </div>
            </div>
          {% endfor %}
        </div>
        {% if notes %}
          <div style="margin-top:12px" class="hint">
            <strong>Notes:</strong>
            <ul>
              {% for n in notes %}
                <li>{{ n }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      {% else %}
        <div class="empty">No results yet. Try scanning a website.</div>
      {% endif %}
    </div>
  </section>
</main>

<footer>
  <div class="footer-left">
    <div><b>BlackBox — Passive Scanner</b></div>
    <div class="muted">A safe, educational tool to inspect public site metadata and security headers. Never scan without permission.</div>
  </div>
  <div class="footer-right">
    <div class="muted">Made by <strong>you</strong> • <a href="#" onclick="return false">blackbox.example</a></div>
  </div>
</footer>

</body>
</html>
